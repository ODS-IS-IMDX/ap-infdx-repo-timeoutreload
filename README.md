# 概要
本リポジトリでは、下記の機能を提供します。
| 機能名                        | 機能概要                                                                                              |
| ---------------------------- | ----------------------------------------------------------------------------------------------------- |
| タイムアウトデータリトライ設定 | タイムアウトで中断した空間IDデータ取込を、次回実行時に再取込できるよう設定します。                           |

# リポジトリ利用方法
各環境の詳細は[前提条件](#前提条件)をご参照ください。
1. ソース記載の一部情報を変更します。
    AWS Secrets Managerより設定値を取得します。
    リポジトリ上ではシークレット名がマスクされているため、適切な値に書き換えてください。
    | 記載ファイル                | 書き換え対象        | 概要                 |
    | --------------------------- | ------------------- | -------------------- |
    | application-prod.properties | secretManagerName   | シークレット名指定   |

2. AWS Secrets Managerに以下の設定値を登録します。
    | シークレットキー名        | 設定値                     |
    | ------------------------- | -------------------------- |
    | YDB-HOST                  | YugabyteDBのホスト名に対応するキー名               |
    | YDB-PORT                  | YugabyteDBの接続ポートに対応するキー名             |
    | YDB-NAME                  | YugabyteDBのDB名に対応するキー名                  |
    | YDB-B1-USER               | YugabyteDBのユーザー名に対応するキー名             |
    | YDB-B1-USER-PASSWORD      | YugabyteDBのパスワードに対応するキー名    |

3. Dockerfileを使ってコンテナイメージを作成します。

4. Amazon ECSコンテナへデプロイを行います。

# 前提条件
1. アプリケーションのビルド環境が存在していることが必要です。
    | ソフトウェア名                       | ディストリビューション | バージョン |
    | ----------------------------------- | ------------------- | ---------- |
    | Java                                | Amazon Corretto     | 21.0.4     |
    | Apache Maven                        | -                   | 3.9.9      |
    | Docker Amazon ECR Credential Helper | -                   | 0.9.0      |
    | Docker Compose v2                   | -                   | 2.27.1     |
    | Docker-Buildx                       | -                   | 0.20.1     |
    | Docker Client                       | -                   | 26.1.3     |
    | Docker Server                       | -                   | 26.1.3     |

2. ECS on Fargate/AWS Secrets Manager/AWS Step Functionsを準備していることが必要です。

3. YugabyteDBの使用準備が完了していることが必要です。

# 利用OSS一覧
本アプリケーションを利用するにあたり、以下OSSをインストールする必要があります。
App/pom.xmlに記載しており、自動でインストールされます。
なお、pomにバージョンの記載がない場合は以下をご参照ください。

・spring関連は以下をご参照ください。

 https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent/3.3.2

・spring関連以外は最新バージョンが適用されます。


| ソフトウェア名   | バージョン           | ライセンス                                                        |
| --------------- | ------------------- | ---------------------------------------------------------------- |
| Java            | amazoncorretto:21   | Class Path Exception(GPLv2とCPE)付きのGNU公衆利用許諾書バージョン2  |
| Apache Maven    | 3.9.9               | Apache License, Version 2.0                         |

# 再配布OSS一覧
本アプリケーションが再配布するOSSは以下の通りです。

| ソフトウェア名   | バージョン           | ライセンス                                                        |
| --------------- | ------------------- | ---------------------------------------------------------------- |
| Java            | amazoncorretto:21   | Class Path Exception(GPLv2とCPE)付きのGNU公衆利用許諾書バージョン2  |

# 問い合わせに関して
1. 本リポジトリは配布を目的としており、IssueやPull Requestを受け付けておりません。

# ライセンス
 1. 本リポジトリはMIT Licenseで提供されています。
 2. ソースコードおよび関連ドキュメントの著作権はエヌ・ティ・ティ・インフラネット株式会社及び株式会社NTTデータに帰属します。

# 免責事項
 1. 本リポジトリの内容は予告なく変更・削除する可能性があります。
 2. 本リポジトリの利用により生じた損失及び損害等について、いかなる責任も負わないものとします。
